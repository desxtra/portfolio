---
---
<section id="contact" class="py-20 bg-white">
  <div class="max-w-xl mx-auto px-4">
    <h3 class="text-3xl font-bold mb-6 text-center text-gray-800">Contact Me</h3>
    <form id="contact-form" class="space-y-4">
      <input name="name" type="text" placeholder="Your Name" required class="w-full p-3 border rounded focus:outline-none" />
      <input name="email" type="email" placeholder="Email" required class="w-full p-3 border rounded focus:outline-none" />
      <textarea
        name="message"
        placeholder="Your Message"
        required
        rows="5"
        class="w-full p-3 border rounded resize-none focus:outline-none"
        onkeydown="if(event.key==='Enter' && !event.shiftKey){event.preventDefault();document.getElementById('contact-form').dispatchEvent(new Event('submit'));}"
      ></textarea>
      <button type="submit" class="bg-blue-600 text-white px-6 py-3 rounded hover:bg-blue-700 w-full transition">
        Send Message
      </button>
    </form>
    <script>
      document.getElementById("contact-form").addEventListener("submit", async (e) => {
        e.preventDefault();
        const form = e.target;
        const formData = new FormData(form);
        const data = new URLSearchParams(formData);

        try {
          const res = await fetch("https://portfolio-backend-tau-green.vercel.app/api", {
            method: "POST",
            headers: {
              "Content-Type": "application/x-www-form-urlencoded",
            },
            body: data,
          });

          const result = await res.json();
          if (result.status === "ok") {
            window.location.href = "/thankyou?auth=true";
          } else {
            alert("Failed to send message");
          }
        } catch (err) {
          alert("Error submitting the form.");
          console.error(err);
        }
      });
    </script>
  </div>
</section>